<!-- –ü—Ä–∞–≤–∏–ª–æ -->
<div class="mb-8">
  <h2 class="text-xl font-bold text-gray-900 mb-3">üìñ {{ content.rule.title }}</h2>
  <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
    <p class="text-gray-700 whitespace-pre-line">{{ content.rule.explanation }}</p>
  </div>
</div>

<!-- –ü—Ä–∏–º–µ—Ä—ã -->
<div class="mb-8">
  <h3 class="text-lg font-semibold text-gray-900 mb-3">–ü—Ä–∏–º–µ—Ä—ã:</h3>
  <ul class="space-y-2">
    {% for example in content.rule.examples %}
    <li class="flex items-start gap-2">
      <span class="text-green-600 mt-1">‚úì</span>
      <span class="text-gray-700 italic">{{ example }}</span>
    </li>
    {% endfor %}
  </ul>
</div>

<!-- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è -->
<div class="mb-8">
  <h3 class="text-lg font-semibold text-gray-900 mb-4">–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è:</h3>
  
  {% for exercise in content.exercises %}
  <div class="exercise mb-6 p-4 bg-gray-50 rounded-lg" data-id="{{ exercise.id }}" data-type="{{ exercise.type }}" data-answer="{{ exercise.correct_answer }}">
    <div class="font-semibold text-gray-900 mb-3">{{ forloop.counter }}. {{ exercise.question }}</div>
    
    {% if exercise.type == 'fill_blank' or exercise.type == 'correct_mistake' %}
    <input type="text" class="user-answer w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="–í–∞—à –æ—Ç–≤–µ—Ç...">
    {% elif exercise.type == 'multiple_choice' %}
    <div class="space-y-2">
      {% for option in exercise.options %}
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="{{ forloop.counter0 }}" class="user-answer w-4 h-4">
        <span>{{ option }}</span>
      </label>
      {% endfor %}
    </div>
    {% endif %}
    
    <button class="check-btn mt-3 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition">
      –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
    </button>
    
    <div class="result hidden mt-3 p-3 rounded-lg">
      <div class="flex items-start gap-2">
        <span class="icon text-2xl"></span>
        <div class="flex-1">
          <div class="font-semibold status-text"></div>
          <div class="explanation text-sm text-gray-700 mt-1"></div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è -->
<button id="completeBtn" class="w-full px-8 py-4 bg-green-600 text-white font-bold text-lg rounded-full hover:bg-green-700 transition shadow-lg">
  ‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫
</button>

<script>
const lessonId = {{ lesson.id }};
</script>
