<!-- Reading Text -->
<div class="mb-8">
  <h2 class="text-2xl font-bold text-gray-900 mb-4">üìö Reading Passage</h2>
  <p class="text-gray-600 mb-4">Read the text carefully. Pay attention to new vocabulary and main ideas.</p>
  
  <!-- Reading Tips -->
  <div class="bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4">
    <h3 class="font-semibold text-blue-900 mb-2">üìñ Reading Strategy:</h3>
    <ul class="space-y-1 text-blue-800 text-sm">
      <li>‚Ä¢ First, skim the text to get the general idea</li>
      <li>‚Ä¢ Then, read carefully and look for key information</li>
      <li>‚Ä¢ Use context clues to understand unfamiliar words</li>
      <li>‚Ä¢ Think about the main message and supporting details</li>
    </ul>
  </div>
  
  <div class="bg-white p-6 rounded-lg border border-gray-200 leading-relaxed text-gray-700">
    {{ content.text|linebreaks }}
  </div>
</div>

<!-- Vocabulary Glossary -->
<div class="mb-8">
  <h3 class="text-lg font-semibold text-gray-900 mb-3">üìù Key Vocabulary:</h3>
  <p class="text-gray-600 mb-3 text-sm">These words are important for understanding the text:</p>
  <div class="grid md:grid-cols-2 gap-3">
    {% for word in content.glossary %}
    <div class="flex items-center gap-2 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200">
      <span class="font-bold text-blue-700">{{ word.word }}</span>
      <span class="text-gray-500">‚Äî</span>
      <span class="text-gray-700">{{ word.translation }}</span>
    </div>
    {% endfor %}
  </div>
</div>

<!-- Comprehension Questions -->
<div class="mb-8">
  <h3 class="text-xl font-semibold text-gray-900 mb-4">‚ùì Comprehension Questions:</h3>
  <p class="text-gray-600 mb-4">Answer these questions to check your understanding. Use hints if needed!</p>
  
  {% for exercise in content.exercises %}
  <div class="exercise mb-6 p-5 bg-gray-50 rounded-lg border border-gray-200" data-id="{{ exercise.id }}" data-type="{{ exercise.type }}" data-answer="{{ exercise.correct_answer }}">
    <div class="flex justify-between items-start mb-3">
      <div class="font-semibold text-gray-900">
        Question {{ forloop.counter }}: {{ exercise.question }}
      </div>
      <button class="hint-btn text-sm px-3 py-1 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition">
        üí° Hint
      </button>
    </div>
    
    <div class="hint hidden mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg">
      <p class="text-sm text-blue-800">
        {% if exercise.type == 'multiple_choice' %}
        Re-read the relevant part of the text. Look for keywords from the question in the passage.
        {% elif exercise.type == 'true_false' %}
        Find the specific information in the text. Is it exactly as stated in the question?
        {% else %}
        Think about what the text says explicitly and what can be inferred.
        {% endif %}
      </p>
    </div>
    
    {% if exercise.type == 'multiple_choice' %}
    <div class="space-y-2">
      {% for option in exercise.options %}
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="{{ forloop.counter0 }}" class="user-answer w-4 h-4">
        <span>{{ option }}</span>
      </label>
      {% endfor %}
    </div>
    {% elif exercise.type == 'true_false' %}
    <div class="space-y-2">
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="true" class="user-answer w-4 h-4">
        <span>True</span>
      </label>
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="false" class="user-answer w-4 h-4">
        <span>False</span>
      </label>
    </div>
    {% endif %}
    
    <button class="check-btn mt-3 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition">
      Check Answer
    </button>
    
    <div class="result hidden mt-3 p-3 rounded-lg">
      <div class="flex items-start gap-2">
        <span class="icon text-2xl"></span>
        <div class="flex-1">
          <div class="font-semibold status-text"></div>
          <div class="explanation text-sm text-gray-700 mt-1"></div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Complete Lesson Button -->
<button id="completeBtn" class="w-full px-8 py-4 bg-green-600 text-white font-bold text-lg rounded-full hover:bg-green-700 transition shadow-lg">
  ‚úÖ Complete Lesson
</button>

<script>
const lessonId = {{ lesson.id }};
</script>
