<!-- Vocabulary Section -->
<div class="mb-8">
  <h2 class="text-2xl font-bold text-gray-900 mb-4">üìù Vocabulary List</h2>
  <p class="text-gray-600 mb-4">Learn these new words and their usage. Pay attention to pronunciation and context!</p>
  
  <div class="overflow-x-auto">
    <table class="w-full bg-white rounded-lg overflow-hidden">
      <thead class="bg-blue-50">
        <tr class="border-b-2 border-blue-200">
          <th class="text-left py-3 px-4 font-semibold text-gray-800">English Word</th>
          <th class="text-left py-3 px-4 font-semibold text-gray-800">Translation</th>
          <th class="text-left py-3 px-4 font-semibold text-gray-800">Example Sentence</th>
        </tr>
      </thead>
      <tbody>
        {% for word in content.words %}
        <tr class="border-b border-gray-100 hover:bg-blue-50 transition">
          <td class="py-3 px-4 font-bold text-blue-600">{{ word.word }}</td>
          <td class="py-3 px-4 text-gray-700">{{ word.translation }}</td>
          <td class="py-3 px-4 text-gray-600 italic text-sm">{{ word.example }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<!-- Vocabulary Tips -->
<div class="mb-6">
  <div class="bg-purple-50 border border-purple-200 p-4 rounded-lg">
    <h3 class="font-semibold text-purple-900 mb-2">üéØ Learning Tips:</h3>
    <ul class="space-y-1 text-purple-800 text-sm">
      <li>‚Ä¢ Practice pronunciation by reading the words aloud</li>
      <li>‚Ä¢ Create your own sentences using these new words</li>
      <li>‚Ä¢ Try to use at least 3 new words in conversation today</li>
    </ul>
  </div>
</div>

<!-- Practice Exercises -->
<div class="mb-8">
  <h3 class="text-xl font-semibold text-gray-900 mb-4">‚úçÔ∏è Practice Exercises:</h3>
  <p class="text-gray-600 mb-4">Test your knowledge of the new vocabulary. Use hints if you need help!</p>
  
  {% for exercise in content.exercises %}
  <div class="exercise mb-6 p-5 bg-gray-50 rounded-lg border border-gray-200" data-id="{{ exercise.id }}" data-type="{{ exercise.type }}" data-answer="{{ exercise.correct_answer }}">
    <div class="flex justify-between items-start mb-3">
      <div class="font-semibold text-gray-900">
        Exercise {{ forloop.counter }}: {{ exercise.question }}
      </div>
      <button class="hint-btn text-sm px-3 py-1 bg-yellow-100 text-yellow-700 rounded-lg hover:bg-yellow-200 transition">
        üí° Hint
      </button>
    </div>
    
    <div class="hint hidden mb-3 p-3 bg-blue-50 border border-blue-200 rounded-lg">
      <p class="text-sm text-blue-800">
        {% if exercise.type == 'translate' %}
        Remember the vocabulary list above. Think about the first letter of the word.
        {% elif exercise.type == 'fill_blank' %}
        Look at the context of the sentence. Which word from the vocabulary list fits best?
        {% elif exercise.type == 'correct_mistake' %}
        Look for spelling or word form mistakes. Fix the incorrect parts.
        {% else %}
        Review the vocabulary table and think about word meanings and usage.
        {% endif %}
      </p>
    </div>
    
    {% if exercise.type == 'translate' or exercise.type == 'fill_blank' or exercise.type == 'correct_mistake' %}
    <input type="text" class="user-answer w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="Type your answer here...">
    {% elif exercise.type == 'multiple_choice' %}
    {% if exercise.options and exercise.options|length > 0 %}
    <div class="space-y-2">
      {% for option in exercise.options %}
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="{{ forloop.counter0 }}" class="user-answer w-4 h-4">
        <span>{{ option }}</span>
      </label>
      {% endfor %}
    </div>
    {% else %}
    <!-- Fallback when options are missing -->
    <input type="text" class="user-answer w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="Type your answer here...">
    {% endif %}
    {% elif exercise.type == 'true_false' %}
    <div class="space-y-2">
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="true" class="user-answer w-4 h-4">
        <span>True</span>
      </label>
      <label class="flex items-center gap-3 p-3 border-2 border-gray-300 rounded-lg cursor-pointer hover:bg-white transition">
        <input type="radio" name="exercise_{{ exercise.id }}" value="false" class="user-answer w-4 h-4">
        <span>False</span>
      </label>
    </div>
    {% else %}
    <!-- Fallback: show text input for any unknown exercise types -->
    <input type="text" class="user-answer w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none" placeholder="Type your answer here...">
    {% endif %}
    
    <button class="check-btn mt-3 px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition">
      Check Answer
    </button>
    
    <div class="result hidden mt-3 p-3 rounded-lg">
      <div class="flex items-start gap-2">
        <span class="icon text-2xl"></span>
        <div class="flex-1">
          <div class="font-semibold status-text"></div>
          <div class="explanation text-sm text-gray-700 mt-1"></div>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

<!-- Complete Lesson Button -->
<button id="completeBtn" class="w-full px-8 py-4 bg-green-600 text-white font-bold text-lg rounded-full hover:bg-green-700 transition shadow-lg">
  ‚úÖ Complete Lesson
</button>

<script>
const lessonId = {{ lesson.id }};
</script>
